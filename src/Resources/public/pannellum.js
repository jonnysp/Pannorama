// Pannellum f0fcf31, https://github.com/mpetroff/pannellum
window.libpannellum=function(J,f,n){function xa(Q){function $a(a,e){return 1==a.level&&1!=e.level?-1:1==e.level&&1!=a.level?1:e.timestamp-a.timestamp}function X(a,e){return a.level!=e.level?a.level-e.level:a.diff-e.diff}function R(a,e,d,f,q,b){this.vertices=a;this.side=e;this.level=d;this.x=f;this.y=q;this.path=b.replace("%s",e).replace("%l",d).replace("%x",f).replace("%y",q)}function ya(a,e,f,n,q){var b;var g=e.vertices;b=ga(a,g.slice(0,3));var u=ga(a,g.slice(3,6)),A=ga(a,g.slice(6,9)),g=ga(a,g.slice(9,
12)),z=b[0]+u[0]+A[0]+g[0];-4==z||4==z?b=!1:(z=b[1]+u[1]+A[1]+g[1],b=-4==z||4==z?!1:4!=b[2]+u[2]+A[2]+g[2]);if(b){b=e.vertices;u=b[0]+b[3]+b[6]+b[9];A=b[1]+b[4]+b[7]+b[10];g=b[2]+b[5]+b[8]+b[11];z=Math.sqrt(u*u+A*A+g*g);g=Math.asin(g/z);u=Math.atan2(A,u)-n;u+=u>Math.PI?-2*Math.PI:u<-Math.PI?2*Math.PI:0;u=Math.abs(u);e.diff=Math.acos(Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos(u));u=!1;for(A=0;A<d.nodeCache.length;A++)if(d.nodeCache[A].path==e.path){u=!0;d.nodeCache[A].timestamp=d.nodeCacheTimestamp++;
d.nodeCache[A].diff=e.diff;d.currentNodes.push(d.nodeCache[A]);break}u||(e.timestamp=d.nodeCacheTimestamp++,d.currentNodes.push(e),d.nodeCache.push(e));if(e.level<d.level){var g=t.cubeResolution*Math.pow(2,e.level-t.maxLevel),u=Math.ceil(g*t.invTileResolution)-1,A=g%t.tileResolution*2,D=2*g%t.tileResolution;0===D&&(D=t.tileResolution);0===A&&(A=2*t.tileResolution);z=0.5;if(e.x==u||e.y==u)z=1-t.tileResolution/(t.tileResolution+D);var s=1-z,g=[],y=z,S=z,H=z,m=s,v=s,E=s;if(D<t.tileResolution)if(e.x==
u&&e.y!=u){if(v=S=0.5,"d"==e.side||"u"==e.side)E=H=0.5}else e.x!=u&&e.y==u&&(m=y=0.5,"l"==e.side||"r"==e.side)&&(E=H=0.5);A<=t.tileResolution&&(e.x==u&&(y=0,m=1,"l"==e.side||"r"==e.side)&&(H=0,E=1),e.y==u&&(S=0,v=1,"d"==e.side||"u"==e.side)&&(H=0,E=1));D=[b[0],b[1],b[2],b[0]*y+b[3]*m,b[1]*z+b[4]*s,b[2]*H+b[5]*E,b[0]*y+b[6]*m,b[1]*S+b[7]*v,b[2]*H+b[8]*E,b[0]*z+b[9]*s,b[1]*S+b[10]*v,b[2]*H+b[11]*E];D=new R(D,e.side,e.level+1,2*e.x,2*e.y,t.fullpath);g.push(D);e.x==u&&A<=t.tileResolution||(D=[b[0]*y+
b[3]*m,b[1]*z+b[4]*s,b[2]*H+b[5]*E,b[3],b[4],b[5],b[3]*z+b[6]*s,b[4]*S+b[7]*v,b[5]*H+b[8]*E,b[0]*y+b[6]*m,b[1]*S+b[7]*v,b[2]*H+b[8]*E],D=new R(D,e.side,e.level+1,2*e.x+1,2*e.y,t.fullpath),g.push(D));e.x==u&&A<=t.tileResolution||e.y==u&&A<=t.tileResolution||(D=[b[0]*y+b[6]*m,b[1]*S+b[7]*v,b[2]*H+b[8]*E,b[3]*z+b[6]*s,b[4]*S+b[7]*v,b[5]*H+b[8]*E,b[6],b[7],b[8],b[9]*y+b[6]*m,b[10]*z+b[7]*s,b[11]*H+b[8]*E],D=new R(D,e.side,e.level+1,2*e.x+1,2*e.y+1,t.fullpath),g.push(D));e.y==u&&A<=t.tileResolution||(D=
[b[0]*z+b[9]*s,b[1]*S+b[10]*v,b[2]*H+b[11]*E,b[0]*y+b[6]*m,b[1]*S+b[7]*v,b[2]*H+b[8]*E,b[9]*y+b[6]*m,b[10]*z+b[7]*s,b[11]*H+b[8]*E,b[9],b[10],b[11]],D=new R(D,e.side,e.level+1,2*e.x,2*e.y+1,t.fullpath),g.push(D));for(e=0;e<g.length;e++)ya(a,g[e],f,n,q)}}}function za(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function ja(a,e,d){var f=Math.sin(e);e=Math.cos(e);
if("x"==d)return[a[0],e*a[1]+f*a[2],e*a[2]-f*a[1],a[3],e*a[4]+f*a[5],e*a[5]-f*a[4],a[6],e*a[7]+f*a[8],e*a[8]-f*a[7]];if("y"==d)return[e*a[0]-f*a[2],a[1],e*a[2]+f*a[0],e*a[3]-f*a[5],a[4],e*a[5]+f*a[3],e*a[6]-f*a[8],a[7],e*a[8]+f*a[6]];if("z"==d)return[e*a[0]+f*a[1],e*a[1]-f*a[0],a[2],e*a[3]+f*a[4],e*a[4]-f*a[3],a[5],e*a[6]+f*a[7],e*a[7]-f*a[6],a[8]]}function Aa(a){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]]}function oa(a){a.textureLoad||(a.textureLoad=
!0,Ja(encodeURI(a.path+"."+t.extension),function(e){a.texture=e;a.textureLoaded=!0}))}function ga(a,e){var d=[a[0]*e[0]+a[1]*e[1]+a[2]*e[2],a[4]*e[0]+a[5]*e[1]+a[6]*e[2],a[11]+a[8]*e[0]+a[9]*e[1]+a[10]*e[2],1/(a[12]*e[0]+a[13]*e[1]+a[14]*e[2])],f=d[0]*d[3],q=d[1]*d[3],d=d[2]*d[3],b=[0,0,0];-1>f&&(b[0]=-1);1<f&&(b[0]=1);-1>q&&(b[1]=-1);1<q&&(b[1]=1);if(-1>d||1<d)b[2]=1;return b}function pa(){console.log("Reducing canvas size due to error 1286!");y.width=Math.round(y.width/2);y.height=Math.round(y.height/
2)}var y=f.createElement("canvas");y.style.width=y.style.height="100%";Q.appendChild(y);var d,a,N,O,Ba,T,qa,ba,t,F,ka,G,ca,ra,Z;this.init=function(h,e,Ga,fa,q,b,g,u){typeof e===n&&(e="equirectangular");if("equirectangular"!=e&&"cubemap"!=e&&"multires"!=e)throw console.log("Error: invalid image type specified!"),{type:"config error"};F=e;t=h;ka=Ga;if(d){N&&(a.detachShader(d,N),a.deleteShader(N));O&&(a.detachShader(d,O),a.deleteShader(O));a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
null);d.texture&&a.deleteTexture(d.texture);if(d.nodeCache)for(h=0;h<d.nodeCache.length;h++)a.deleteTexture(d.nodeCache[h].texture);a.deleteProgram(d);d=n}ba=n;"cubemap"==F&&0!==(t[0].width&t[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(a||(a=y.getContext("experimental-webgl",
{alpha:!1,depth:!1})),a&&1286==a.getError()&&pa());if(!a&&("multires"==F&&t.hasOwnProperty("fallbackPath")||"cubemap"==F)&&("WebkitAppearance"in f.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){T&&Q.removeChild(T);T=f.createElement("div");T.className="pnlm-world";fa=t.basePath?t.basePath+t.fallbackPath:t.fallbackPath;var A="frblud".split(""),z=0;q=function(){var a=f.createElement("canvas");a.className="pnlm-face pnlm-"+A[this.side]+
"face";T.appendChild(a);var b=a.getContext("2d");a.style.width=this.width+4+"px";a.style.height=this.height+4+"px";a.width=this.width+4;a.height=this.height+4;b.drawImage(this,2,2);var e=b.getImageData(0,0,a.width,a.height),d=e.data,h,m;for(h=2;h<a.width-2;h++)for(m=0;4>m;m++)d[4*(h+a.width)+m]=d[4*(h+2*a.width)+m],d[4*(h+a.width*(a.height-2))+m]=d[4*(h+a.width*(a.height-3))+m];for(h=2;h<a.height-2;h++)for(m=0;4>m;m++)d[4*(h*a.width+1)+m]=d[4*(h*a.width+2)+m],d[4*((h+1)*a.width-2)+m]=d[4*((h+1)*a.width-
3)+m];for(m=0;4>m;m++)d[4*(a.width+1)+m]=d[4*(2*a.width+2)+m],d[4*(2*a.width-2)+m]=d[4*(3*a.width-3)+m],d[4*(a.width*(a.height-2)+1)+m]=d[4*(a.width*(a.height-3)+2)+m],d[4*(a.width*(a.height-1)-2)+m]=d[4*(a.width*(a.height-2)-3)+m];for(h=1;h<a.width-1;h++)for(m=0;4>m;m++)d[4*h+m]=d[4*(h+a.width)+m],d[4*(h+a.width*(a.height-1))+m]=d[4*(h+a.width*(a.height-2))+m];for(h=1;h<a.height-1;h++)for(m=0;4>m;m++)d[h*a.width*4+m]=d[4*(h*a.width+1)+m],d[4*((h+1)*a.width-1)+m]=d[4*((h+1)*a.width-2)+m];for(m=0;4>
m;m++)d[m]=d[4*(a.width+1)+m],d[4*(a.width-1)+m]=d[4*(2*a.width-2)+m],d[a.width*(a.height-1)*4+m]=d[4*(a.width*(a.height-2)+1)+m],d[4*(a.width*a.height-1)+m]=d[4*(a.width*(a.height-1)-2)+m];b.putImageData(e,0,0);z++;6==z&&(Ba=this.width,Q.appendChild(T),g())};for(h=0;6>h;h++)b=new Image,b.crossOrigin="anonymous",b.side=h,b.onload=q,b.src="multires"==F?encodeURI(fa.replace("%s",A[h])+"."+t.extension):encodeURI(t[h].src)}else{if(!a)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};
t.fullpath=t.basePath?t.basePath+t.path:t.path;t.invTileResolution=1/t.tileResolution;e=za();qa=[];for(h=0;6>h;h++)qa[h]=e.slice(12*h,12*h+12),e=za();if("equirectangular"==F){if(h=Math.max(t.width,t.height),e=a.getParameter(a.MAX_TEXTURE_SIZE),h>e)throw console.log("Error: The image is too big; it's "+h+"px wide, but this device's maximum supported width is "+e+"px."),{type:"webgl size error",width:h,maxWidth:e};}else if("cubemap"==F&&(h=t[0].width,e=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),h>
e))throw console.log("Error: The cube face image is too big; it's "+h+"px wide, but this device's maximum supported width is "+e+"px."),{type:"webgl size error",width:h,maxWidth:e};u===n||u.horizonPitch===n&&u.horizonRoll===n||(ba=[u.horizonPitch==n?0:u.horizonPitch,u.horizonRoll==n?0:u.horizonRoll]);h=a.TEXTURE_2D;a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight);N=a.createShader(a.VERTEX_SHADER);e=v;"multires"==F&&(e=s);a.shaderSource(N,e);a.compileShader(N);O=a.createShader(a.FRAGMENT_SHADER);
e=Ka;"cubemap"==F?(h=a.TEXTURE_CUBE_MAP,e=La):"multires"==F&&(e=la);a.shaderSource(O,e);a.compileShader(O);d=a.createProgram();a.attachShader(d,N);a.attachShader(d,O);a.linkProgram(d);a.getShaderParameter(N,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(N));a.getShaderParameter(O,a.COMPILE_STATUS)||console.log(a.getShaderInfoLog(O));a.getProgramParameter(d,a.LINK_STATUS)||console.log(a.getProgramInfoLog(d));a.useProgram(d);d.drawInProgress=!1;d.texCoordLocation=a.getAttribLocation(d,"a_texCoord");
a.enableVertexAttribArray(d.texCoordLocation);"multires"!=F?(G||(G=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,G),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),a.STATIC_DRAW),a.vertexAttribPointer(d.texCoordLocation,2,a.FLOAT,!1,0,0),d.aspectRatio=a.getUniformLocation(d,"u_aspectRatio"),a.uniform1f(d.aspectRatio,y.clientWidth/y.clientHeight),d.psi=a.getUniformLocation(d,"u_psi"),d.theta=a.getUniformLocation(d,"u_theta"),d.f=a.getUniformLocation(d,"u_f"),d.h=a.getUniformLocation(d,
"u_h"),d.v=a.getUniformLocation(d,"u_v"),d.vo=a.getUniformLocation(d,"u_vo"),d.rot=a.getUniformLocation(d,"u_rot"),a.uniform1f(d.h,fa/(2*Math.PI)),a.uniform1f(d.v,q/Math.PI),a.uniform1f(d.vo,b/Math.PI*2),"equirectangular"==F&&(d.backgroundColor=a.getUniformLocation(d,"u_backgroundColor"),a.uniform4fv(d.backgroundColor,(u.backgroundColor?u.backgroundColor:[0,0,0]).concat([1]))),d.texture=a.createTexture(),a.bindTexture(h,d.texture),"cubemap"==F?(a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGB,a.RGB,
a.UNSIGNED_BYTE,t[1]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t[3]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t[4]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t[5]),a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t[0]),a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t[2])):a.texImage2D(h,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,t),a.texParameteri(h,a.TEXTURE_WRAP_S,
a.CLAMP_TO_EDGE),a.texParameteri(h,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(h,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(h,a.TEXTURE_MAG_FILTER,a.LINEAR)):(d.vertPosLocation=a.getAttribLocation(d,"a_vertCoord"),a.enableVertexAttribArray(d.vertPosLocation),ca||(ca=a.createBuffer()),ra||(ra=a.createBuffer()),Z||(Z=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,ra),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),a.STATIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,Z),a.bufferData(a.ELEMENT_ARRAY_BUFFER,
new Uint16Array([0,1,2,0,2,3]),a.STATIC_DRAW),d.perspUniform=a.getUniformLocation(d,"u_perspMatrix"),d.cubeUniform=a.getUniformLocation(d,"u_cubeMatrix"),d.level=-1,d.currentNodes=[],d.nodeCache=[],d.nodeCacheTimestamp=0);fa=a.getError();if(0!==fa)throw console.log("Error: Something went wrong with WebGL!",fa),{type:"webgl error"};g()}};this.destroy=function(){Q!==n&&(y!==n&&Q.contains(y)&&Q.removeChild(y),T!==n&&Q.contains(T)&&Q.removeChild(T));if(a){var d=a.getExtension("WEBGL_lose_context");d&&
d.loseContext()}};this.resize=function(){var h=J.devicePixelRatio||1;y.width=y.clientWidth*h;y.height=y.clientHeight*h;a&&(1286==a.getError()&&pa(),a.viewport(0,0,a.drawingBufferWidth,a.drawingBufferHeight),"multires"!=F&&a.uniform1f(d.aspectRatio,y.clientWidth/y.clientHeight))};this.resize();this.setPose=function(a,d){ba=[a,d]};this.render=function(h,e,f,s){var q;q=0;s===n&&(s={});s.roll&&(q=s.roll);if(ba!==n){var b=ba[0],g=ba[1],u=h,v=e,z=Math.cos(g)*Math.sin(h)*Math.sin(b)+Math.cos(h)*(Math.cos(b)*
Math.cos(e)+Math.sin(g)*Math.sin(b)*Math.sin(e)),D=-Math.sin(h)*Math.sin(g)+Math.cos(h)*Math.cos(g)*Math.sin(e);h=Math.cos(g)*Math.cos(b)*Math.sin(h)+Math.cos(h)*(-Math.cos(e)*Math.sin(b)+Math.cos(b)*Math.sin(g)*Math.sin(e));h=Math.asin(Math.max(Math.min(h,1),-1));e=Math.atan2(D,z);b=[Math.cos(u)*(Math.sin(g)*Math.sin(b)*Math.cos(v)-Math.cos(b)*Math.sin(v)),Math.cos(u)*Math.cos(g)*Math.cos(v),Math.cos(u)*(Math.cos(b)*Math.sin(g)*Math.cos(v)+Math.sin(v)*Math.sin(b))];g=[-Math.cos(h)*Math.sin(e),Math.cos(h)*
Math.cos(e)];g=Math.acos(Math.max(Math.min((b[0]*g[0]+b[1]*g[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])*Math.sqrt(g[0]*g[0]+g[1]*g[1])),1),-1));0>b[2]&&(g=2*Math.PI-g);q+=g}if(a||"multires"!=F&&"cubemap"!=F){if("multires"!=F)f=2*Math.atan(Math.tan(0.5*f)/(y.clientWidth/y.clientHeight)),f=1/Math.tan(0.5*f),a.uniform1f(d.psi,e),a.uniform1f(d.theta,h),a.uniform1f(d.rot,q),a.uniform1f(d.f,f),!0===ka&&"equirectangular"==F&&(a.bindTexture(a.TEXTURE_2D,d.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,
a.UNSIGNED_BYTE,t)),a.drawArrays(a.TRIANGLES,0,6);else{b=y.clientWidth/y.clientHeight;g=2*Math.atan(Math.tan(f/2)*y.clientHeight/y.clientWidth);g=1/Math.tan(g/2);b=[g/b,0,0,0,0,g,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0];for(g=1;g<t.maxLevel&&y.width>t.tileResolution*Math.pow(2,g-1)*Math.tan(f/2)*0.707;)g++;d.level=g;g=[1,0,0,0,1,0,0,0,1];g=ja(g,-q,"z");g=ja(g,-h,"x");g=ja(g,e,"y");g=[g[0],g[1],g[2],0,g[3],g[4],g[5],0,g[6],g[7],g[8],0,0,0,0,1];a.uniformMatrix4fv(d.perspUniform,!1,new Float32Array(Aa(b)));
a.uniformMatrix4fv(d.cubeUniform,!1,new Float32Array(Aa(g)));b=[b[0]*g[0],b[0]*g[1],b[0]*g[2],0,b[5]*g[4],b[5]*g[5],b[5]*g[6],0,b[10]*g[8],b[10]*g[9],b[10]*g[10],b[11],-g[8],-g[9],-g[10],0];d.nodeCache.sort($a);if(200<d.nodeCache.length&&d.nodeCache.length>d.currentNodes.length+50)for(g=d.nodeCache.splice(200,d.nodeCache.length-200),q=0;q<g.length;q++)a.deleteTexture(g[q].texture);d.currentNodes=[];g="fbudlr".split("");for(q=0;6>q;q++)u=new R(qa[q],g[q],1,0,0,t.fullpath),ya(b,u,h,e,f);d.currentNodes.sort(X);
for(q=0;q<d.currentNodes.length;q++)if(!d.currentNodes[q].texture){setTimeout(oa,0,d.currentNodes[q]);break}if(!d.drawInProgress){d.drawInProgress=!0;for(h=0;h<d.currentNodes.length;h++)d.currentNodes[h].textureLoaded&&(a.bindBuffer(a.ARRAY_BUFFER,ca),a.bufferData(a.ARRAY_BUFFER,new Float32Array(d.currentNodes[h].vertices),a.STATIC_DRAW),a.vertexAttribPointer(d.vertPosLocation,3,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,ra),a.vertexAttribPointer(d.texCoordLocation,2,a.FLOAT,!1,0,0),a.bindTexture(a.TEXTURE_2D,
d.currentNodes[h].texture),a.drawElements(a.TRIANGLES,6,a.UNSIGNED_SHORT,0));d.drawInProgress=!1}}if(s.returnImage!==n)return y.toDataURL("image/png")}else for(q=Ba/2,s={f:"translate3d(-"+(q+2)+"px, -"+(q+2)+"px, -"+q+"px)",b:"translate3d("+(q+2)+"px, -"+(q+2)+"px, "+q+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(q+2)+"px, -"+q+"px, "+(q+2)+"px) rotateX(270deg)",d:"translate3d(-"+(q+2)+"px, "+q+"px, -"+(q+2)+"px) rotateX(90deg)",l:"translate3d(-"+q+"px, -"+(q+2)+"px, "+(q+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",
r:"translate3d("+q+"px, -"+(q+2)+"px, -"+(q+2)+"px) rotateY(270deg)"},f=1/Math.tan(f/2),f=f*y.clientWidth/2+"px",h="perspective("+f+") translateZ("+f+") rotateX("+h+"rad) rotateY("+e+"rad) ",e=Object.keys(s),q=0;6>q;q++)f=T.querySelector(".pnlm-"+e[q]+"face").style,f.webkitTransform=h+s[e[q]],f.transform=h+s[e[q]]};this.isLoading=function(){if(a&&"multires"==F)for(var f=0;f<d.currentNodes.length;f++)if(!d.currentNodes[f].textureLoaded)return!0;return!1};this.getCanvas=function(){return y};var Ja=
function(){function d(){var b=this;this.texture=this.callback=null;this.image=new Image;this.image.crossOrigin="anonymous";this.image.addEventListener("load",function(){var d=b.image;a.bindTexture(a.TEXTURE_2D,b.texture);a.texImage2D(a.TEXTURE_2D,0,a.RGB,a.RGB,a.UNSIGNED_BYTE,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,
a.CLAMP_TO_EDGE);a.bindTexture(a.TEXTURE_2D,null);b.callback(b.texture);q.length?(d=q.shift(),b.loadTexture(d.src,d.texture,d.callback)):n[f++]=b})}function e(a,b,d){this.src=a;this.texture=b;this.callback=d}var f=4,n={},q=[];d.prototype.loadTexture=function(a,b,d){this.texture=b;this.callback=d;this.image.src=a};for(var b=0;b<f;b++)n[b]=new d;return function(b,d){var h=a.createTexture();f?n[--f].loadTexture(b,h,d):q.push(new e(b,h,d));return h}}()}var v="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",
s="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",La="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",
Ka="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",
la="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(f,n,s,v){return new xa(f,n,s,v)}}}(window,document);window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(J,f){window.setTimeout(J,1E3/60)}}());
window.pannellum=function(J,f,n){function xa(v,s){function La(l){J.removeEventListener("deviceorientation",La);l&&null!==l.alpha&&null!==l.beta&&null!==l.gamma?(w.container.appendChild(w.orientation),ma=!0,Va&&Ia()):ma=!1}function Ka(){var l=f.createElement("div");l.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e";if(1==l.getElementsByTagName("i").length)X();else{sa=c.hfov;Ca=c.pitch;var a;if("cubemap"==c.type){P=[];for(l=0;6>l;l++)P.push(new Image),P[l].crossOrigin="anonymous";r.load.lbox.style.display=
"block";r.load.lbar.style.display="none"}else if("multires"==c.type)l=JSON.parse(JSON.stringify(c.multiRes)),c.basePath&&c.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(c.multiRes.basePath)?l.basePath=c.basePath+c.multiRes.basePath:c.multiRes.basePath?l.basePath=c.multiRes.basePath:c.basePath&&(l.basePath=c.basePath),P=l;else if(!0===c.dynamic)P=c.panorama;else{if(c.panorama===n){X(c.strings.noPanoramaError);return}P=new Image}if("cubemap"==c.type)for(var Wa=6,b=function(){Wa--;0===Wa&&Q()},d=function(a){var l=
f.createElement("a");l.href=a.target.src;l.innerHTML=l.href;X(c.strings.fileAccessError.replace("%s",l.outerHTML))},l=0;l<P.length;l++)P[l].onload=b,P[l].onerror=d,a=c.cubeMap[l],c.basePath&&!la(a)&&(a=c.basePath+a),P[l].src=encodeURI(a);else if("multires"==c.type)Q();else if(a="",c.basePath&&(a=c.basePath),!0!==c.dynamic){a=la(c.panorama)?c.panorama:a+c.panorama;P.onload=function(){J.URL.revokeObjectURL(this.src);Q()};var e=new XMLHttpRequest;e.onloadend=function(){if(200!=e.status){var l=f.createElement("a");
l.href=encodeURI(a);l.innerHTML=l.href;X(c.strings.fileAccessError.replace("%s",l.outerHTML))}xa(this.response);r.load.msg.innerHTML=""};e.onprogress=function(l){if(l.lengthComputable){r.load.lbarFill.style.width=l.loaded/l.total*100+"%";var a,c;1E6<l.total?(a="MB",c=(l.loaded/1E6).toFixed(2),l=(l.total/1E6).toFixed(2)):1E3<l.total?(a="kB",c=(l.loaded/1E3).toFixed(1),l=(l.total/1E3).toFixed(1)):(a="B",c=l.loaded,l=l.total);r.load.msg.innerHTML=c+" / "+l+" "+a}else r.load.lbox.style.display="block",
r.load.lbar.style.display="none"};try{e.open("GET",a,!0)}catch(g){X(c.strings.malformedURLError)}e.responseType="blob";e.setRequestHeader("Accept","image/*,*/*;q=0.9");e.send()}B.classList.add("pnlm-grab");B.classList.remove("pnlm-grabbing")}}function la(l){return/^(?:[a-z]+:)?\/\//i.test(l)||"/"==l[0]||"blob:"==l.slice(0,5)}function Q(){C||(C=new libpannellum.renderer(M));Pa||(Pa=!0,I.addEventListener("mousedown",ya,!1),f.addEventListener("mousemove",Aa,!1),f.addEventListener("mouseup",oa,!1),c.mouseZoom&&
(B.addEventListener("mousewheel",O,!1),B.addEventListener("DOMMouseScroll",O,!1)),c.doubleClickZoom&&I.addEventListener("dblclick",za,!1),B.addEventListener("mozfullscreenchange",z,!1),B.addEventListener("webkitfullscreenchange",z,!1),B.addEventListener("msfullscreenchange",z,!1),B.addEventListener("fullscreenchange",z,!1),J.addEventListener("resize",ka,!1),J.addEventListener("orientationchange",ka,!1),B.addEventListener("keydown",Ba,!1),B.addEventListener("keyup",qa,!1),B.addEventListener("blur",
T,!1),f.addEventListener("mouseleave",oa,!1),I.addEventListener("touchstart",ga,!1),I.addEventListener("touchmove",pa,!1),I.addEventListener("touchend",y,!1),I.addEventListener("pointerdown",d,!1),I.addEventListener("pointermove",a,!1),I.addEventListener("pointerup",N,!1),I.addEventListener("pointerleave",N,!1),J.navigator.pointerEnabled&&(v.style.touchAction="none"));h();setTimeout(function(){},500)}function xa(l){var a=new FileReader;a.addEventListener("loadend",function(){var b=a.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var d=
b.indexOf("\u00ff\u00c2");(0>d||65536<d)&&X(c.strings.iOS8WebGLError)}d=b.indexOf("<x:xmpmeta");if(-1<d&&!0!==c.ignoreGPanoXMP){var e=b.substring(d,b.indexOf("</x:xmpmeta>")+12),f=function(l){var a;0<=e.indexOf(l+'="')?(a=e.substring(e.indexOf(l+'="')+l.length+2),a=a.substring(0,a.indexOf('"'))):0<=e.indexOf(l+">")&&(a=e.substring(e.indexOf(l+">")+l.length+1),a=a.substring(0,a.indexOf("<")));return a!==n?Number(a):null},b=f("GPano:FullPanoWidthPixels"),d=f("GPano:CroppedAreaImageWidthPixels"),g=f("GPano:FullPanoHeightPixels"),
h=f("GPano:CroppedAreaImageHeightPixels"),m=f("GPano:CroppedAreaTopPixels"),q=f("GPano:PoseHeadingDegrees"),p=f("GPano:PosePitchDegrees"),f=f("GPano:PoseRollDegrees");null!==b&&null!==d&&null!==g&&null!==h&&null!==m&&(0>$.indexOf("haov")&&(c.haov=d/b*360),0>$.indexOf("vaov")&&(c.vaov=h/g*180),0>$.indexOf("vOffset")&&(c.vOffset=-180*((m+h/2)/g-0.5)),null!==q&&0>$.indexOf("northOffset")&&(c.northOffset=q,!1!==c.compass&&(c.compass=!0)),null!==p&&null!==f&&(0>$.indexOf("horizonPitch")&&(c.horizonPitch=
p),0>$.indexOf("horizonRoll")&&(c.horizonRoll=f)))}P.src=J.URL.createObjectURL(l)});a.readAsBinaryString!==n?a.readAsBinaryString(l):a.readAsText(l)}function X(l){l===n&&(l=c.strings.genericWebGLError);r.errorMsg.innerHTML="<p>"+l+"</p>";w.load.style.display="none";r.load.box.style.display="none";r.errorMsg.style.display="table";Ma=!0;M.style.display="none";da("error",l)}function R(l){var a=v.getBoundingClientRect(),c={};c.x=l.clientX-a.left;c.y=l.clientY-a.top;return c}function ya(l){l.preventDefault();
v.focus();if(L&&c.draggable){var a=R(l);if(c.hotSpotDebug){var b=ja(l);console.log("Pitch: "+b[0]+", Yaw: "+b[1]+", Center Pitch: "+c.pitch+", Center Yaw: "+c.yaw+", HFOV: "+c.hfov)}Ha();m();c.roll=0;x.hfov=0;ha=!0;U=Date.now();ta=a.x;ua=a.y;Na=c.yaw;Oa=c.pitch;B.classList.add("pnlm-grabbing");B.classList.remove("pnlm-grab");da("mousedown",l);G()}}function za(a){c.minHfov===c.hfov?va.setHfov(sa,1E3):(a=ja(a),va.lookAt(a[0],a[1],c.minHfov,1E3))}function ja(a){var k=R(a);a=C.getCanvas();var b=a.clientWidth,
d=a.clientHeight;a=k.x/b*2-1;var d=(1-k.y/d*2)*d/b,e=1/Math.tan(c.hfov*Math.PI/360),f=Math.sin(c.pitch*Math.PI/180),g=Math.cos(c.pitch*Math.PI/180),k=e*g-d*f,b=Math.sqrt(a*a+k*k),d=180*Math.atan((d*g+e*f)/b)/Math.PI;a=180*Math.atan2(a/b,k/b)/Math.PI+c.yaw;-180>a&&(a+=360);180<a&&(a-=360);return[d,a]}function Aa(a){if(ha&&L){U=Date.now();var k=C.getCanvas(),b=k.clientWidth,k=k.clientHeight;a=R(a);var d=180*(Math.atan(ta/b*2-1)-Math.atan(a.x/b*2-1))/Math.PI*c.hfov/90+Na;x.yaw=(d-c.yaw)%360*0.2;c.yaw=
d;b=360*Math.atan(Math.tan(c.hfov/360*Math.PI)*k/b)/Math.PI;b=180*(Math.atan(a.y/k*2-1)-Math.atan(ua/k*2-1))/Math.PI*b/90+Oa;x.pitch=0.2*(b-c.pitch);c.pitch=b}}function oa(a){ha&&(ha=!1,15<Date.now()-U&&(x.pitch=x.yaw=0),B.classList.add("pnlm-grab"),B.classList.remove("pnlm-grabbing"),U=Date.now(),da("mouseup",a))}function ga(a){if(L&&c.draggable){Ha();m();c.roll=0;x.hfov=0;var k=R(a.targetTouches[0]);ta=k.x;ua=k.y;if(2==a.targetTouches.length){var b=R(a.targetTouches[1]);ta+=0.5*(b.x-k.x);ua+=0.5*
(b.y-k.y);Da=Math.sqrt((k.x-b.x)*(k.x-b.x)+(k.y-b.y)*(k.y-b.y))}ha=!0;U=Date.now();Na=c.yaw;Oa=c.pitch;da("touchstart",a);G()}}function pa(a){if(c.draggable&&(a.preventDefault(),L&&(U=Date.now()),ha&&L)){var k=R(a.targetTouches[0]),b=k.x,d=k.y;2==a.targetTouches.length&&-1!=Da&&(a=R(a.targetTouches[1]),b+=0.5*(a.x-k.x),d+=0.5*(a.y-k.y),k=Math.sqrt((k.x-a.x)*(k.x-a.x)+(k.y-a.y)*(k.y-a.y)),W(c.hfov+0.1*(Da-k)),Da=k);k=c.hfov/360;b=(ta-b)*k+Na;x.yaw=(b-c.yaw)%360*0.2;c.yaw=b;d=(d-ua)*k+Oa;x.pitch=0.2*
(d-c.pitch);c.pitch=d}}function y(){ha=!1;150<Date.now()-U&&(x.pitch=x.yaw=0);Da=-1;U=Date.now();da("touchend",event)}function d(a){"touch"==a.pointerType&&(ia.push(a.pointerId),wa.push({clientX:a.clientX,clientY:a.clientY}),a.targetTouches=wa,ga(a),a.preventDefault())}function a(a){if("touch"==a.pointerType)for(var c=0;c<ia.length;c++)if(a.pointerId==ia[c]){wa[c].clientX=a.clientX;wa[c].clientY=a.clientY;a.targetTouches=wa;pa(a);break}}function N(a){if("touch"==a.pointerType){for(var c=!1,b=0;b<
ia.length;b++)a.pointerId==ia[b]&&(ia[b]=n),ia[b]&&(c=!0);c||(ia=[],wa=[],y());a.preventDefault()}}function O(a){L&&("fullscreenonly"!=c.mouseZoom||Ea)&&(a.preventDefault(),Ha(),U=Date.now(),a.wheelDeltaY?(W(c.hfov-0.05*a.wheelDeltaY),x.hfov=0>a.wheelDelta?1:-1):a.wheelDelta?(W(c.hfov-0.05*a.wheelDelta),x.hfov=0>a.wheelDelta?1:-1):a.detail&&(W(c.hfov+1.5*a.detail),x.hfov=0<a.detail?1:-1),G())}function Ba(a){Ha();U=Date.now();m();c.roll=0;var k=a.which||a.keycode;0>Xa.indexOf(k)||(a.preventDefault(),
27==k?Ea&&A():ba(k,!0))}function T(){for(var a=0;10>a;a++)p[a]=!1}function qa(a){var c=a.which||a.keycode;0>Xa.indexOf(c)||(a.preventDefault(),ba(c,!1))}function ba(a,c){var b=!1;switch(a){case 109:case 189:case 17:case 173:p[0]!=c&&(b=!0);p[0]=c;break;case 107:case 187:case 16:case 61:p[1]!=c&&(b=!0);p[1]=c;break;case 38:p[2]!=c&&(b=!0);p[2]=c;break;case 87:p[6]!=c&&(b=!0);p[6]=c;break;case 40:p[3]!=c&&(b=!0);p[3]=c;break;case 83:p[7]!=c&&(b=!0);p[7]=c;break;case 37:p[4]!=c&&(b=!0);p[4]=c;break;
case 65:p[8]!=c&&(b=!0);p[8]=c;break;case 39:p[5]!=c&&(b=!0);p[5]=c;break;case 68:p[9]!=c&&(b=!0),p[9]=c}b&&c&&(ea="undefined"!==typeof performance&&performance.now()?performance.now():Date.now(),G())}function t(){if(L){var a=!1,k=c.pitch,b=c.yaw,d=c.hfov,e;e="undefined"!==typeof performance&&performance.now()?performance.now():Date.now();ea===n&&(ea=e);var f=(e-ea)*c.hfov/1700,f=Math.min(f,1);p[0]&&!0===c.keyboardZoom&&(W(c.hfov+(0.8*x.hfov+0.5)*f),a=!0);p[1]&&!0===c.keyboardZoom&&(W(c.hfov+(0.8*
x.hfov-0.2)*f),a=!0);if(p[2]||p[6])c.pitch+=(0.8*x.pitch+0.2)*f,a=!0;if(p[3]||p[7])c.pitch+=(0.8*x.pitch-0.2)*f,a=!0;if(p[4]||p[8])c.yaw+=(0.8*x.yaw-0.2)*f,a=!0;if(p[5]||p[9])c.yaw+=(0.8*x.yaw+0.2)*f,a=!0;a&&(U=Date.now());Date.now();if(c.autoRotate){if(0.001<e-ea){var a=(e-ea)/1E3,g=(x.yaw/a*f-0.2*c.autoRotate)*a,g=(0<-c.autoRotate?1:-1)*Math.min(Math.abs(c.autoRotate*a),Math.abs(g));c.yaw+=g}c.autoRotateStopDelay&&(c.autoRotateStopDelay-=e-ea,0>=c.autoRotateStopDelay&&(c.autoRotateStopDelay=!1,
Y=c.autoRotate,c.autoRotate=0))}K.pitch&&(F("pitch"),k=c.pitch);K.yaw&&(F("yaw"),b=c.yaw);K.hfov&&(F("hfov"),d=c.hfov);0<f&&!c.autoRotate&&(p[4]||p[5]||p[8]||p[9]||K.yaw||(c.yaw+=x.yaw*f*0.85),p[2]||p[3]||p[6]||p[7]||K.pitch||(c.pitch+=x.pitch*f*0.85),p[0]||p[1]||K.hfov||W(c.hfov+x.hfov*f*0.85));ea=e;0<f&&(x.yaw=0.8*x.yaw+(c.yaw-b)/f*0.2,x.pitch=0.8*x.pitch+(c.pitch-k)/f*0.2,x.hfov=0.8*x.hfov+(c.hfov-d)/f*0.2,k=c.autoRotate?Math.abs(c.autoRotate):5,x.yaw=Math.min(k,Math.max(x.yaw,-k)),x.pitch=Math.min(k,
Math.max(x.pitch,-k)),x.hfov=Math.min(k,Math.max(x.hfov,-k)));p[0]&&p[0]&&(x.hfov=0);(p[2]||p[6])&&(p[3]||p[7])&&(x.pitch=0);(p[4]||p[8])&&(p[5]||p[9])&&(x.yaw=0)}}function F(a){var k=K[a],b=Math.min(1,Math.max((Date.now()-k.startTime)/1E3/(k.duration/1E3),0)),b=k.startPosition+c.animationTimingFunction(b)*(k.endPosition-k.startPosition);if(k.endPosition>k.startPosition&&b>=k.endPosition||k.endPosition<k.startPosition&&b<=k.endPosition||k.endPosition===k.startPosition){b=k.endPosition;x[a]=0;var k=
K[a].callback,d=K[a].callbackArgs;delete K[a];"function"==typeof k&&k(d)}c[a]=b}function ka(){z()}function G(){Qa||(Qa=!0,ca())}function ca(){ra();Ra&&clearTimeout(Ra);if(ha||!0===aa)requestAnimationFrame(ca);else if(p[0]||p[1]||p[2]||p[3]||p[4]||p[5]||p[6]||p[7]||p[8]||p[9]||c.autoRotate||K.pitch||K.yaw||K.hfov||0.01<Math.abs(x.yaw)||0.01<Math.abs(x.pitch)||0.01<Math.abs(x.hfov))t(),0<=c.autoRotateInactivityDelay&&Y&&Date.now()-U>c.autoRotateInactivityDelay&&!c.autoRotate&&(c.autoRotate=Y,va.lookAt(Ca,
n,sa,3E3)),requestAnimationFrame(ca);else if(C&&(C.isLoading()||!0===c.dynamic&&Ya))requestAnimationFrame(ca);else{Qa=!1;ea=n;var a=c.autoRotateInactivityDelay-(Date.now()-U);0<a?Ra=setTimeout(function(){c.autoRotate=Y;va.lookAt(Ca,n,sa,3E3);G()},a):0<=c.autoRotateInactivityDelay&&Y&&(c.autoRotate=Y,va.lookAt(Ca,n,sa,3E3),G())}}function ra(){var a;if(L){180<c.yaw?c.yaw-=360:-180>c.yaw&&(c.yaw+=360);a=c.yaw;var k=c.maxYaw-c.minYaw,d=-180,e=180;360>k&&(d=c.minYaw+c.hfov/2,e=c.maxYaw-c.hfov/2,k<c.hfov&&
(d=e=(d+e)/2));c.yaw=Math.max(d,Math.min(e,c.yaw));!1!==c.autoRotate&&a!=c.yaw&&(c.autoRotate*=-1);a=C.getCanvas();a=2*Math.atan(Math.tan(c.hfov/180*Math.PI*0.5)/(a.width/a.height))/Math.PI*180;k=c.minPitch+a/2;d=c.maxPitch-a/2;c.maxPitch-c.minPitch<a&&(k=d=(k+d)/2);isNaN(k)&&(k=-90);isNaN(d)&&(d=90);c.pitch=Math.max(k,Math.min(d,c.pitch));C.render(c.pitch*Math.PI/180,c.yaw*Math.PI/180,c.hfov*Math.PI/180,{roll:c.roll*Math.PI/180});c.hotSpots.forEach(b);c.compass&&(Fa.style.transform="rotate("+(-c.yaw-
c.northOffset)+"deg)",Fa.style.webkitTransform="rotate("+(-c.yaw-c.northOffset)+"deg)")}}function Z(a,c,b,d){this.w=a;this.x=c;this.y=b;this.z=d}function Ja(a){var b;b=a.alpha;var d=a.beta;a=a.gamma;d=[d?d*Math.PI/180/2:0,a?a*Math.PI/180/2:0,b?b*Math.PI/180/2:0];b=[Math.cos(d[0]),Math.cos(d[1]),Math.cos(d[2])];d=[Math.sin(d[0]),Math.sin(d[1]),Math.sin(d[2])];b=new Z(b[0]*b[1]*b[2]-d[0]*d[1]*d[2],d[0]*b[1]*b[2]-b[0]*d[1]*d[2],b[0]*d[1]*b[2]+d[0]*b[1]*d[2],b[0]*b[1]*d[2]+d[0]*d[1]*b[2]);b=b.multiply(new Z(Math.sqrt(0.5),
-Math.sqrt(0.5),0,0));d=J.orientation?-J.orientation*Math.PI/180/2:0;b=b.multiply(new Z(Math.cos(d),0,-Math.sin(d),0)).toEulerAngles();"number"==typeof aa&&10>aa?aa+=1:10===aa?(Za=b[2]/Math.PI*180+c.yaw,aa=!0,requestAnimationFrame(ca)):(c.pitch=b[0]/Math.PI*180,c.roll=-b[1]/Math.PI*180,c.yaw=-b[2]/Math.PI*180+Za)}function h(){try{var a={};c.horizonPitch!==n&&(a.horizonPitch=c.horizonPitch*Math.PI/180);c.horizonRoll!==n&&(a.horizonRoll=c.horizonRoll*Math.PI/180);c.backgroundColor!==n&&(a.backgroundColor=
c.backgroundColor);C.init(P,c.type,c.dynamic,c.haov*Math.PI/180,c.vaov*Math.PI/180,c.vOffset*Math.PI/180,e,a);!0!==c.dynamic&&(P=n)}catch(b){if("webgl error"==b.type||"no webgl"==b.type)X();else if("webgl size error"==b.type)X(c.strings.textureSizeError.replace("%s",b.width).replace("%s",b.maxWidth));else throw X(c.strings.unknownError),b;}}function e(){if(c.sceneFadeDuration&&C.fadeImg!==n){C.fadeImg.style.opacity=0;var a=C.fadeImg;delete C.fadeImg;setTimeout(function(){M.removeChild(a);da("scenechangefadedone")},
c.sceneFadeDuration)}Fa.style.display=c.compass?"inline":"none";fa();r.load.box.style.display="none";na!==n&&(M.removeChild(na),na=n);L=!0;da("load");G()}function Ga(a){a.pitch=Number(a.pitch)||0;a.yaw=Number(a.yaw)||0;var b=f.createElement("div");b.className="pnlm-hotspot-base";b.className=a.cssClass?b.className+(" "+a.cssClass):b.className+(" pnlm-hotspot pnlm-sprite pnlm-"+E(a.type));var d=f.createElement("span");a.text&&(d.innerHTML=E(a.text));var e;if(a.video){e=f.createElement("video");var g=
a.video;c.basePath&&!la(g)&&(g=c.basePath+g);e.src=encodeURI(g);e.controls=!0;e.style.width=a.width+"px";M.appendChild(b);d.appendChild(e)}else if(a.image){g=a.image;c.basePath&&!la(g)&&(g=c.basePath+g);e=f.createElement("a");e.href=encodeURI(a.URL?a.URL:g);e.target="_blank";d.appendChild(e);var h=f.createElement("img");h.src=encodeURI(g);h.style.width=a.width+"px";h.style.paddingTop="5px";M.appendChild(b);e.appendChild(h);d.style.maxWidth="initial"}else a.URL?(e=f.createElement("a"),e.href=encodeURI(a.URL),
e.target="_blank",M.appendChild(e),b.style.cursor="pointer",d.style.cursor="pointer",e.appendChild(b)):(a.sceneId&&(b.onclick=b.ontouchend=function(){b.clicked||(b.clicked=!0,H(a.sceneId,a.targetPitch,a.targetYaw,a.targetHfov));return!1},b.style.cursor="pointer",d.style.cursor="pointer"),M.appendChild(b));if(a.createTooltipFunc)a.createTooltipFunc(b,a.createTooltipArgs);else if(a.text||a.video||a.image)b.classList.add("pnlm-tooltip"),b.appendChild(d),d.style.width=d.scrollWidth-20+"px",d.style.marginLeft=
-(d.scrollWidth-b.offsetWidth)/2+"px",d.style.marginTop=-d.scrollHeight-12+"px";a.clickHandlerFunc&&(b.addEventListener("click",function(c){a.clickHandlerFunc(c,a.clickHandlerArgs)},"false"),b.style.cursor="pointer",d.style.cursor="pointer");a.div=b}function fa(){Sa||(c.hotSpots?(c.hotSpots=c.hotSpots.sort(function(a,c){return a.pitch<c.pitch}),c.hotSpots.forEach(Ga)):c.hotSpots=[],Sa=!0,c.hotSpots.forEach(b))}function q(){var a=c.hotSpots;Sa=!1;delete c.hotSpots;if(a)for(var b=0;b<a.length;b++){for(var d=
a[b].div;d.parentNode!=M;)d=d.parentNode;M.removeChild(d);delete a.div}}function b(a){var b=Math.sin(a.pitch*Math.PI/180),d=Math.cos(a.pitch*Math.PI/180),e=Math.sin(c.pitch*Math.PI/180),f=Math.cos(c.pitch*Math.PI/180),g=Math.cos((-a.yaw+c.yaw)*Math.PI/180),h=b*e+d*g*f;if(90>=a.yaw&&-90<a.yaw&&0>=h||(90<a.yaw||-90>=a.yaw)&&0>=h)a.div.style.visibility="hidden";else{var m=Math.sin((-a.yaw+c.yaw)*Math.PI/180),q=Math.tan(c.hfov*Math.PI/360);a.div.style.visibility="visible";var n=C.getCanvas(),p=n.clientWidth,
n=n.clientHeight,b=[-p/q*m*d/h/2,-p/q*(b*f-d*g*e)/h/2],d=Math.sin(c.roll*Math.PI/180),e=Math.cos(c.roll*Math.PI/180),b=[b[0]*e-b[1]*d,b[0]*d+b[1]*e];b[0]+=(p-a.div.offsetWidth)/2;b[1]+=(n-a.div.offsetHeight)/2;p="translate("+b[0]+"px, "+b[1]+"px) translateZ(9999px) rotate("+c.roll+"deg)";a.div.style.webkitTransform=p;a.div.style.MozTransform=p;a.div.style.transform=p}}function g(a){c={};var b,d,e="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");$=[];for(b in Ta)Ta.hasOwnProperty(b)&&
(c[b]=Ta[b]);for(b in s.default)if(s.default.hasOwnProperty(b))if("strings"==b)for(d in s.default.strings)s.default.strings.hasOwnProperty(d)&&(c.strings[d]=E(s.default.strings[d]));else c[b]=s.default[b],0<=e.indexOf(b)&&$.push(b);if(null!==a&&""!==a&&s.scenes&&s.scenes[a]){var f=s.scenes[a];for(b in f)if(f.hasOwnProperty(b))if("strings"==b)for(d in f.strings)f.strings.hasOwnProperty(d)&&(c.strings[d]=E(f.strings[d]));else c[b]=f[b],0<=e.indexOf(b)&&$.push(b);c.scene=a}for(b in s)if(s.hasOwnProperty(b))if("strings"==
b)for(d in s.strings)s.strings.hasOwnProperty(d)&&(c.strings[d]=E(s.strings[d]));else c[b]=s[b],0<=e.indexOf(b)&&$.push(b)}function u(a){if((a=a?a:!1)&&"preview"in c){var b=c.preview;c.basePath&&!la(b)&&(b=c.basePath+b);na=f.createElement("div");na.className="pnlm-preview-img";na.style.backgroundImage="url('"+encodeURI(b)+"')";M.appendChild(na)}var b=c.title,d=c.author;a&&("previewTitle"in c&&(c.title=c.previewTitle),"previewAuthor"in c&&(c.author=c.previewAuthor));c.hasOwnProperty("title")||(r.title.innerHTML=
"");c.hasOwnProperty("author")||(r.author.innerHTML="");c.hasOwnProperty("title")||c.hasOwnProperty("author")||(r.container.style.display="none");w.load.innerHTML="<p>"+c.strings.loadButtonLabel+"</p>";r.load.box.innerHTML="<p>"+c.strings.loadingLabel+"</p>";for(var e in c)if(c.hasOwnProperty(e))switch(e){case "title":r.title.innerHTML=E(c[e]);r.container.style.display="inline";break;case "author":r.author.innerHTML=c.strings.bylineLabel.replace("%s",E(c[e]));r.container.style.display="inline";break;
case "fallback":r.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(c[e])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case "hfov":W(Number(c[e]));break;case "autoLoad":!0===c[e]&&C===n&&(r.load.box.style.display="inline",w.load.style.display="none",Ka());break;case "showZoomCtrl":w.zoom.style.display=c[e]&&!1!=c.showControls?"block":"none";break;case "showFullscreenCtrl":w.fullscreen.style.display=c[e]&&!1!=c.showControls&&
("fullscreen"in f||"mozFullScreen"in f||"webkitIsFullScreen"in f||"msFullscreenElement"in f)?"block":"none";break;case "hotSpotDebug":Ua.style.display=c[e]?"block":"none";break;case "showControls":c[e]||(w.orientation.style.display="none",w.zoom.style.display="none",w.fullscreen.style.display="none");break;case "orientationOnByDefault":c[e]&&(ma===n?Va=!0:!0===ma&&Ia())}a&&(b?c.title=b:delete c.title,d?c.author=d:delete c.author)}function A(){if(L&&!Ma)if(Ea)f.exitFullscreen?f.exitFullscreen():f.mozCancelFullScreen?
f.mozCancelFullScreen():f.webkitCancelFullScreen?f.webkitCancelFullScreen():f.msExitFullscreen&&f.msExitFullscreen();else try{v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.msRequestFullscreen?v.msRequestFullscreen():v.webkitRequestFullScreen()}catch(a){}}function z(){f.fullscreen||f.mozFullScreen||f.webkitIsFullScreen||f.msFullscreenElement?(w.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),Ea=!0):(w.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),
Ea=!1);C.resize();W(c.hfov);G()}function D(a){var b=c.minHfov;"multires"==c.type&&C&&(b=Math.min(b,C.getCanvas().width/(c.multiRes.cubeResolution/90*0.9)));return b>c.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),c.hfov):a<b?b:a>c.maxHfov?c.maxHfov:a}function W(a){c.hfov=D(a)}function Ha(){K={};Y=c.autoRotate?c.autoRotate:Y;c.autoRotate=!1}function S(){Ma&&(r.load.box.style.display="none",r.errorMsg.style.display="none",Ma=!1,da("errorcleared"));w.load.style.display="none";
r.load.box.style.display="inline";Ka()}function H(a,b,d,e,f){L=!1;K={};var h,m;if(c.sceneFadeDuration&&!f&&(h=C.render(c.pitch*Math.PI/180,c.yaw*Math.PI/180,c.hfov*Math.PI/180,{returnImage:!0}),h!==n)){f=new Image;f.className="pnlm-fade-img";f.style.transition="opacity "+c.sceneFadeDuration/1E3+"s";f.style.width="100%";f.style.height="100%";f.onload=function(){H(a,b,d,e,!0)};f.src=h;M.appendChild(f);C.fadeImg=f;return}f="same"===b?c.pitch:b;h="same"===d?c.yaw:"sameAzimuth"===d?c.yaw+(c.northOffset||
0)-(s.scenes[a].northOffset||0):d;m="same"===e?c.hfov:e;q();g(a);x.yaw=x.pitch=x.hfov=0;u();f!==n&&(c.pitch=f);h!==n&&(c.yaw=h);m!==n&&(c.hfov=m);da("scenechange",a);S()}function m(){J.removeEventListener("deviceorientation",Ja);w.orientation.classList.remove("pnlm-orientation-button-active");aa=!1}function Ia(){aa=1;J.addEventListener("deviceorientation",Ja);w.orientation.classList.add("pnlm-orientation-button-active")}function E(a){return s.escapeHTML?String(a).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):
String(a).split("\n").join("<br>")}function da(a){if(a in V)for(var c=V[a].length;0<c;c--)V[a][V[a].length-c].apply(null,[].slice.call(arguments,1))}var va=this,c,C,na,ha=!1,U=Date.now(),ta=0,ua=0,Da=-1,Na=0,Oa=0,p=Array(10),Ea=!1,L=!1,Ma=!1,Pa=!1,P,ea,x={yaw:0,pitch:0,hfov:0},Qa=!1,aa=!1,Za=0,Ra,Y=0,sa,Ca,K={},V={},$=[],Ya=!1,Sa=!1,Ta={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,
autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(a){return 0.5>a?2*a*a:-1+(4-2*a)*a},draggable:!0,strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",
malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",
unknownError:"Unknown error. Check developer console."}},Xa=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];v="string"===typeof v?f.getElementById(v):v;v.classList.add("pnlm-container");v.tabIndex=0;var B=f.createElement("div");B.className="pnlm-ui";v.appendChild(B);var M=f.createElement("div");M.className="pnlm-render-container";v.appendChild(M);var I=f.createElement("div");I.className="pnlm-dragfix";B.appendChild(I);var r={},Ua=f.createElement("div");Ua.className="pnlm-sprite pnlm-hot-spot-debug-indicator";
B.appendChild(Ua);r.container=f.createElement("div");r.container.className="pnlm-panorama-info";r.title=f.createElement("div");r.title.className="pnlm-title-box";r.container.appendChild(r.title);r.author=f.createElement("div");r.author.className="pnlm-author-box";r.container.appendChild(r.author);B.appendChild(r.container);r.load={};r.load.box=f.createElement("div");r.load.box.className="pnlm-load-box";r.load.lbox=f.createElement("div");r.load.lbox.className="pnlm-lbox";r.load.lbox.innerHTML='<div class="pnlm-loading"></div>';
r.load.box.appendChild(r.load.lbox);r.load.lbar=f.createElement("div");r.load.lbar.className="pnlm-lbar";r.load.lbarFill=f.createElement("div");r.load.lbarFill.className="pnlm-lbar-fill";r.load.lbar.appendChild(r.load.lbarFill);r.load.box.appendChild(r.load.lbar);r.load.msg=f.createElement("p");r.load.msg.className="pnlm-lmsg";r.load.box.appendChild(r.load.msg);B.appendChild(r.load.box);r.errorMsg=f.createElement("div");r.errorMsg.className="pnlm-error-msg pnlm-info-box";B.appendChild(r.errorMsg);
var w={};w.container=f.createElement("div");w.container.className="pnlm-controls-container";B.appendChild(w.container);w.load=f.createElement("div");w.load.className="pnlm-load-button";w.load.addEventListener("click",function(){u();S()});B.appendChild(w.load);w.zoom=f.createElement("div");w.zoom.className="pnlm-zoom-controls pnlm-controls";w.zoomIn=f.createElement("div");w.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control";w.zoomIn.addEventListener("click",function(){L&&(W(c.hfov-5),G())});
w.zoom.appendChild(w.zoomIn);w.zoomOut=f.createElement("div");w.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control";w.zoomOut.addEventListener("click",function(){L&&(W(c.hfov+5),G())});w.zoom.appendChild(w.zoomOut);w.container.appendChild(w.zoom);w.fullscreen=f.createElement("div");w.fullscreen.addEventListener("click",A);w.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control";(f.fullscreenEnabled||f.mozFullScreenEnabled||
f.webkitFullscreenEnabled||f.msFullscreenEnabled)&&w.container.appendChild(w.fullscreen);w.orientation=f.createElement("div");w.orientation.addEventListener("click",function(a){aa?m():Ia()});w.orientation.addEventListener("mousedown",function(a){a.stopPropagation()});w.orientation.addEventListener("touchstart",function(a){a.stopPropagation()});w.orientation.addEventListener("pointerdown",function(a){a.stopPropagation()});w.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";
var ma,Va=!1;J.DeviceOrientationEvent?J.addEventListener("deviceorientation",La):ma=!1;var Fa=f.createElement("div");Fa.className="pnlm-compass pnlm-controls pnlm-control";B.appendChild(Fa);s.firstScene?g(s.firstScene):s.default&&s.default.firstScene?g(s.default.firstScene):g(null);u(!0);var ia=[],wa=[];Z.prototype.multiply=function(a){return new Z(this.w*a.w-this.x*a.x-this.y*a.y-this.z*a.z,this.x*a.w+this.w*a.x+this.y*a.z-this.z*a.y,this.y*a.w+this.w*a.y+this.z*a.x-this.x*a.z,this.z*a.w+this.w*
a.z+this.x*a.y-this.y*a.x)};Z.prototype.toEulerAngles=function(){var a=Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),c=Math.asin(2*(this.w*this.y-this.z*this.x)),b=Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z));return[a,c,b]};this.isLoaded=function(){return L};this.getPitch=function(){return c.pitch};this.setPitch=function(a,b,d,e){(b=b==n?1E3:Number(b))?K.pitch={startTime:Date.now(),startPosition:c.pitch,endPosition:a,duration:b,callback:d,
callbackArgs:e}:c.pitch=a;G();return this};this.getPitchBounds=function(){return[c.minPitch,c.maxPitch]};this.setPitchBounds=function(a){c.minPitch=Math.max(-90,Math.min(a[0],90));c.maxPitch=Math.max(-90,Math.min(a[1],90));return this};this.getYaw=function(){return c.yaw};this.setYaw=function(a,b,d,e){b=b==n?1E3:Number(b);a=(a+180)%360-180;b?(180<c.yaw-a?a+=360:180<a-c.yaw&&(a-=360),K.yaw={startTime:Date.now(),startPosition:c.yaw,endPosition:a,duration:b,callback:d,callbackArgs:e}):c.yaw=a;G();return this};
this.getYawBounds=function(){return[c.minYaw,c.maxYaw]};this.setYawBounds=function(a){c.minYaw=Math.max(-180,Math.min(a[0],180));c.maxYaw=Math.max(-180,Math.min(a[1],180));return this};this.getHfov=function(){return c.hfov};this.setHfov=function(a,b,d,e){(b=b==n?1E3:Number(b))?K.hfov={startTime:Date.now(),startPosition:c.hfov,endPosition:D(a),duration:b,callback:d,callbackArgs:e}:W(a);G();return this};this.getHfovBounds=function(){return[c.minHfov,c.maxHfov]};this.setHfovBounds=function(a){c.minHfov=
Math.max(0,a[0]);c.maxHfov=Math.max(0,a[1]);return this};this.lookAt=function(a,c,b,d,e,f){d=d==n?1E3:Number(d);a!==n&&(this.setPitch(a,d,e,f),e=n);c!==n&&(this.setYaw(c,d,e,f),e=n);b!==n&&this.setHfov(b,d,e,f);return this};this.getNorthOffset=function(){return c.northOffset};this.setNorthOffset=function(a){c.northOffset=Math.min(360,Math.max(0,a));G();return this};this.getHorizonRoll=function(){return c.horizonRoll};this.setHorizonRoll=function(a){c.horizonRoll=Math.min(90,Math.max(-90,a));C.setPose(c.horizonPitch*
Math.PI/180,c.horizonRoll*Math.PI/180);G();return this};this.getHorizonPitch=function(){return c.horizonPitch};this.setHorizonPitch=function(a){c.horizonPitch=Math.min(90,Math.max(-90,a));C.setPose(c.horizonPitch*Math.PI/180,c.horizonRoll*Math.PI/180);G();return this};this.startAutoRotate=function(a){a=a||Y||1;c.autoRotate=a;va.lookAt(Ca,n,sa,3E3);G();return this};this.stopAutoRotate=function(){Y=c.autoRotate?c.autoRotate:Y;c.autoRotate=!1;c.autoRotateInactivityDelay=-1;return this};this.getRenderer=
function(){return C};this.setUpdate=function(a){Ya=!0===a;C===n?Q():G();return this};this.mouseEventToCoords=function(a){return ja(a)};this.loadScene=function(a,c,b,d){L&&H(a,c,b,d);return this};this.getScene=function(){return c.scene};this.addScene=function(a,c){s.scenes[a]=c;return this};this.removeScene=function(a){if(c.scene===a||!s.scenes.hasOwnProperty(a))return!1;delete s.scenes[a];return!0};this.toggleFullscreen=function(){A();return this};this.getConfig=function(){return c};this.addHotSpot=
function(a,d){if(d===n&&c.scene===n)c.hotSpots.push(a);else{var e=d!==n?d:c.scene;if(s.scenes.hasOwnProperty(e))s.scenes[e].hasOwnProperty("hotSpots")||(s.scenes[e].hotSpots=[],e==c.scene&&(c.hotSpots=s.scenes[e].hotSpots)),s.scenes[e].hotSpots.push(a);else throw"Invalid scene ID!";}if(d===n||c.scene==d)Ga(a),L&&b(a);return this};this.removeHotSpot=function(a){if(!c.hotSpots)return!1;for(var b=0;b<c.hotSpots.length;b++)if(c.hotSpots[b].hasOwnProperty("id")&&c.hotSpots[b].id===a){for(a=c.hotSpots[b].div;a.parentNode!=
M;)a=a.parentNode;M.removeChild(a);delete c.hotSpots[b].div;c.hotSpots.splice(b,1);return!0}return!1};this.resize=function(){z()};this.isLoaded=function(){return L};this.isOrientationSupported=function(){return ma||!1};this.stopOrientation=function(){m()};this.startOrientation=function(){ma&&Ia()};this.on=function(a,b){V[a]=V[a]||[];V[a].push(b);return this};this.off=function(a,b){if(!a)return V={},this;if(b){var c=V[a].indexOf(b);0<=c&&V[a].splice(c,1);0==V[a].length&&delete V[a]}else delete V[a];
return this};this.destroy=function(){C&&C.destroy();Pa&&(I.removeEventListener("mousedown",ya,!1),I.removeEventListener("dblclick",za,!1),f.removeEventListener("mousemove",Aa,!1),f.removeEventListener("mouseup",oa,!1),v.removeEventListener("mousewheel",O,!1),v.removeEventListener("DOMMouseScroll",O,!1),v.removeEventListener("mozfullscreenchange",z,!1),v.removeEventListener("webkitfullscreenchange",z,!1),v.removeEventListener("msfullscreenchange",z,!1),v.removeEventListener("fullscreenchange",z,!1),
J.removeEventListener("resize",ka,!1),J.removeEventListener("orientationchange",ka,!1),v.removeEventListener("keydown",Ba,!1),v.removeEventListener("keyup",qa,!1),v.removeEventListener("blur",T,!1),f.removeEventListener("mouseleave",oa,!1),I.removeEventListener("touchstart",ga,!1),I.removeEventListener("touchmove",pa,!1),I.removeEventListener("touchend",y,!1),I.removeEventListener("pointerdown",d,!1),I.removeEventListener("pointermove",a,!1),I.removeEventListener("pointerup",N,!1),I.removeEventListener("pointerleave",
N,!1));v.innerHTML="";v.classList.remove("pnlm-container");B.classList.remove("pnlm-grab");B.classList.remove("pnlm-grabbing")}}return{viewer:function(f,n){return new xa(f,n)}}}(window,document);
